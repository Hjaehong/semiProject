<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.team.semiTravelRecommend.model.dao.PlannerMapper">

    <resultMap type="com.team.semiTravelRecommend.model.dto.PlannerDTO" id="plannerResultMap">
        <id property="planNo" column="PLAN_NO"/>
        <result property="userNo" column="USER_NO"/>
        <result property="travelPlace" column="TRAVEL_PLACE"/>
        <result property="startDueDate" column="START_DUE_DATE"/>
        <result property="endDueDate" column="END_DUE_DATE"/>
        <result property="lodgingInfo" column="LODGING_INFO"/>
        <result property="transportation" column="TRANSPORTATION"/>
        <result property="checklist" column="CHECKLIST"/>
        <result property="plDetail" column="PL_DETAIL"/>
    </resultMap>

   <select id="findAllPlanner" resultMap="plannerResultMap">
        SELECT
            A.PLAN_NO
             , A.USER_NO
             , A.TRAVEL_PLACE
             , A.START_DUE_DATE
             , A.END_DUE_DATE
             , A.LODGING_INFO
             , A.TRANSPORTATION
             , A.CHECKLIST
             , A.PL_DETAIL
        FROM PLANNER A
        ORDER BY A.PLAN_NO
    </select>

    <!-- <select id="findPlannerByCode" resultMap="plannerResultMap">
        SELECT
            A.MENU_CODE
             , A.MENU_NAME
             , A.MENU_PRICE
             , A.CATEGORY_CODE
             , A.ORDERABLE_STATUS
        FROM PLANNER A
        WHERE A.MENU_CODE = #{code}
    </select>-->

    <insert id="insertPlanner">
        INSERT
        INTO Planner A
            (
               A.PLAN_NO
             , A.USER_NO
             , A.TRAVEL_PLACE
             , A.START_DUE_DATE
             , A.END_DUE_DATE
             , A.LODGING_INFO
             , A.TRANSPORTATION
             , A.CHECKLIST
             , A.PL_DETAIL
        )
        VALUES
            (
            SEQ_PLAN_NO.NEXTVAL
                , 9999 <!-- 임시로 유저번호 넣어서 되는지 확인-->
                <!-- , #{ userNo } --> <!-- /**/ 별표 주석으로 하니깐 값이 나와서 오류났음 -->
                , #{ travelPlace }
                , #{ startDueDate }
                , #{ endDueDate }
                , #{ lodgingInfo }
                , #{ transportation }
                , #{ checklist }
                , #{ plDetail }
            )
    </insert>

    <delete id="deletePlanner">
        DELETE FROM PLANNER
         WHERE PLAN_NO = #{planNo}

<!-- 추가하면서 알아봐야할듯-->


    </delete>

</mapper>
